<!DOCTYPE html><html lang="ja"><head>    <meta charset="UTF-8">    <title>中国労働法令</title>    <link rel="stylesheet" href="./assets/css/index.css?c=333">    <script src="./assets/js/babel-polyfill.js"></script></head><body><!-- header --><header>    <div class="language">        <div class="container" style="padding:0">            <div class="nav navbar-nav pull-right text-muted" style="                width: 90px;                height: 34px;            ">                <div class="btn-group" style="                    height: 100%;                    width: 100%;                ">                    <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown"                            aria-haspopup="true" aria-expanded="false"                            style="padding:1px 5px 1px 19px;text-align:left;background: #333;color: #fff;border: 0;height: 100%;width: 100%;border-radius: 0;">                        <span class="caret"></span>日本語                    </button>                    <ul class="dropdown-menu" style="    min-width: 92px;    width: 92px;    background: #090909;    border: 1px solid #fff;    border-radius: 0;    padding: 0;                    ">                        <li class="active"><a href="http://www.labor-laws.com">日本語</a></li>                        <li><a href="http://www.555lawyer.com/">中文</a></li>                    </ul>                </div>            </div>        </div>    </div>    <nav class="navbar navbar-default">        <div class="container position-r" style="padding: 0">            <div class="navbar-header" style="                height: 88px;                display: flex;                justify-content: center;                align-items: center;            ">                <a class="navbar-brand" href="/#home">                    <!--<div class="border-b text-white text-lg">-->                    <!--中国労働法令-->                    <!--</div>-->                    <!--<div>-->                    <!--<small class="text-uppercase text-xs text-white">Labor lawS IN China</small>-->                    <!--</div>-->                    <img src="./assets/img/logo.png" alt="" height="50">                </a>            </div>            <form id="searchForm" class="navbar-form navbar-right" onsubmit="return false">                <input type="hidden" class="form-control" placeholder="Search" name="keywords">                <button type="submit" class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>            </form>            <!-- 第一个 li 对应 navbar-1 ，第二个 li 对应 navbar-2 ， 以此类推            navbar-1  lineNumber  ：  80            navbar-2  lineNumber  ：  119            navbar-3  lineNumber  ：  158            -->            <!--<ul class="nav navbar-nav navbar-right" id="my-nav-hover">-->            <!--</ul>-->            <ul class="nav navbar-nav navbar-right" id="my-nav-hover" style="height: 88px">            </ul>        </div>    </nav>    <div class="jumbotron banner1 position-r">        <div class="position-a full-width" id="search-box" style="z-index: 100;">            <div class="container position-r full-height">                <div class="container-fluid full-width">                    <span style="flex:0 0 16px;width: 16px;height: 16px;border-radius: 50%;border: 3px solid #333; margin-right: 5px;margin-left: 20px"> </span>                    <span style="margin-right: 10px;font-size: 12px"> サイト内検索</span>                    <span class="after-search">                        <input type="text" oninput="page.toKeywords(this)" style="font-size: 12px"/>                        <i class="after-search-dom"></i>                    </span>                </div>            </div>        </div>        <div class="position-a full-width nav-hover">            <div class="container position-r full-height" id="my-nav-menus" style="padding:0"></div>        </div>        <!--<h1 class="text-center text-white">Labor Laws In China</h1>-->        <!--<p class="text-center text-white">[&nbsp&nbsp&nbsp会員制サイト&nbsp&nbsp&nbsp]</p>-->        <div class="full-width flex flex-justify-content-center flex-align-items-center banner-bg-c">            <img src="./assets/img/banner.jpg" alt="" id="banner-img">        </div>    </div></header><section class="main" style="display: flex;flex-flow: column nowrap;justify-content: flex-end;min-height:857px">    <div class="container flex flex-flow-row position-r">        <div class="position-r" style="flex: 0 0 250px;" id="left-menu">            <ul class="nav nav-tabs nav-stacked">                <li class="border-0">                    <form id="loginForm" class="full-width bg-color-ccc padding-2 text-size-18" onsubmit="return false"                          style="background-image:url(./assets/img/login.jpg);                        background-color: transparent!important;                        padding: 0;                    ">                        <div class="flex flex-align-items-center flex-flow-column border-1 padding-5"                             style="height:252px;border:0" id="login-box">                            <div class="flex flex-align-items-center flex-flow-column" id="user-login"                                 style="justify-content: flex-end;flex:15;">                                <div class="input-group padding-5" style="padding-bottom: 0">                                                          <span class="input-group-addon"                                                                style="background: #cccccc !important;opacity: 0"><i                                                                  class="glyphicon glyphicon-user"                                                                  aria-hidden="true"></i></span>                                    <input type="text" class="form-control" placeholder="用户名"                                           name="uname" style="background: #fff !important;height: 40px;">                                </div>                                <div class="input-group padding-5" style="padding-bottom: 0">                                                          <span class="input-group-addon"                                                                style="background: #cccccc !important;opacity: 0"><i                                                                  class="glyphicon glyphicon-lock"></i></span>                                    <input type="password" class="form-control" placeholder="密码"                                           name="pwd" style="background: #fff !important;height: 40px">                                </div>                            </div>                            <button type="submit"                                    onclick="page.login()"                                    id="btn-login"                            >                            </button>                            <a href="/#home/form_Consultation" onclick="renderForm('#mainContent-2',form_Consultation)"                               class="text-content text-size-18"></a>                        </div>                    </form>                    <form id="loginOutForm" class="full-width bg-color-ccc padding-2 text-size-18"                          onsubmit="return false" style="background-image:url(./assets/img/loginout.jpg);                                            background-color: transparent!important;                                            padding: 0;                                        ">                        <div class="flex flex-align-items-center flex-flow-column border-1 padding-5"                             style="height:252px;border:0" id="loginout-box">                            <div class="flex flex-align-items-center flex-flow-column" id="user-info"                                 style="justify-content: flex-end;flex:3;">                                <div class="input-group padding-5"                                     style="line-height: 40px;letter-spacing: 5px;background-color: #eee;">                                                        <span class="input-group-addon"                                                              style="padding: 6px 8px 6px 14px;border: 0">                                                            <i class="glyphicon glyphicon-user" aria-hidden="true"></i></span>                                    <div id="username" style="margin-left: 10px"></div>                                </div>                            </div>                            <button type="submit"                                    onclick="page.loginOut()"                                    id="btn-loginOut">                            </button>                        </div>                    </form>                </li>                <li style="/*border-top: dotted 1px #333;*/margin-top: 20px;" class="border-0 leftm leftm-1">                    <a href="/#home/guide" onclick="renderForm('#mainContent-2',guide)"                       class="text-content text-size-18" style="height: 60px;">                        <div>                            <span class="arrow-right"></span>                            会員サービスのご案内                        </div>                    </a>                </li>                <li class="border-0  leftm leftm-2">                    <a href="/#home/form_Consultation" onclick="renderForm('#mainContent-2',form_Consultation)"                       class="text-content text-size-18" style="height: 60px;">                        <div>                            <span class="arrow-right"></span>                            お問い合わせ                        </div>                    </a>                </li>                <li class="border-0  leftm leftm-3">                    <a href="/#home/requisition" class="text-content text-size-18"                       onclick="renderForm('#mainContent-2',requisition)" style="height: 60px;">                        <div>                            <span class="arrow-right"></span>                            会員の申請                        </div>                    </a>                </li>                <!--<li class="border-0 leftm leftm-4">-->                <!--<a href="#" class="text-content text-size-18">-->                <!--&lt;!&ndash;<div>&ndash;&gt;-->                <!--&lt;!&ndash;<span class="arrow-right"></span>&ndash;&gt;-->                <!--&lt;!&ndash;申し込み方法&ndash;&gt;-->                <!--&lt;!&ndash;</div>&ndash;&gt;-->                <!--</a>-->                <!--</li>-->                <li class="border-0  leftm leftm-5">                    <a href="http://www.joint-win.com/Cn/about/index/catid/31" class="text-content text-size-18"                       target="_blank" style="height: 60px;">                        <div>                            <span class="arrow-right"></span>                            会社の紹介                        </div>                    </a>                </li>                <li class="border-0  leftm leftm-6">                    <a href="http://www.joint-win.com/Cn/lawyer/lawyer/id/128/catid/47.html"                       class="text-content text-size-18" target="_blank" style="height: 60px;">                        <div>                            <span class="arrow-right"></span>                            弁護士の紹介                        </div>                    </a>                </li>                <li class="border-0  leftm leftm-7">                    <a href="/#home/business" onclick="renderForm('#mainContent-2',business)"                       class="text-content text-size-18" style="height: 60px;">                        <div>                            <span class="arrow-right"></span>                            業務の分野                        </div>                    </a>                </li>                <li class="border-0  leftm leftm-8">                    <a href="http://www.joint-win.com/Cn/contact/contact/catid/45" class="text-content text-size-18"                       target="_blank" style="height: 60px;">                        <div>                            <span class="arrow-right"></span>                            連絡先                        </div>                    </a>                </li>                <li class="border-0" style="margin-top:20px">                    <!--<li class="border-0 leftbottom" style="margin-top:20px">-->                    <ul class="dashed-bottom nav flex flex-stretch flex-flow-column border-2-black">                        <li class="text-center border-0">                            <div class="flex flex-flow-row">                                <button type="button" class=" flex-item-1 btn btn-default btn-lg bg-0 border-0">                                    <img src="./assets/img/icon-tel.png" alt="">                                </button>                                <div class="flex-item-4 flex flex-flow-column flex-justify-content-center flex-align-items-start text-size-14">                                    <div>連絡電話：</div>                                    <div>13301729265</div>                                </div>                            </div>                        </li>                        <li class="text-center border-0">                            <div class="flex flex-flow-row">                                <button type="button" class="flex-item-1 btn btn-default btn-lg bg-0 border-0">                                    <img src="./assets/img/icon-mail.png" alt="">                                </button>                                <div class="flex-item-4 flex flex-flow-column flex-justify-content-center flex-align-items-start text-size-14">                                    <div>連絡メール：</div>                                    <div>ogura@joint-win.com</div>                                </div>                            </div>                        </li>                        <li class="text-center border-0">                            <div class="flex flex-flow-row">                                <button type="button" class="flex-item-1 btn btn-default btn-lg bg-0 border-0">                                    <img src="./assets/img/icon-user.png" alt="">                                </button>                                <div class="flex-item-4 flex flex-flow-column flex-justify-content-center flex-align-items-start text-size-14">                                    <div>連絡先：</div>                                    <div>小倉 太一</div>                                </div>                            </div>                        </li>                    </ul>                </li>            </ul>        </div>        <div class=" flex-item-1 margin-l-1" style="min-height: 600px;margin-left: 3em" id="mainContent1">            <!--<ol class="breadcrumb text-size-14" id="nav-breadcrumb">-->            <!--<li></li>-->            <!--<li></li>-->            <!--<li></li>-->            <!--</ol>-->            <div class="panel panel-default border-0 box-shadow-0" id="hot-list">                <div class="panel-heading custom-heading font-family-MSMincho">新着情報</div>                <div class="panel-body">                </div>            </div>        </div>        <div class=" flex-item-1 margin-l-1" style="min-height: 600px;margin-left: 3em" id="mainContent2">            <ol class="breadcrumb text-size-14 point">                <li onclick="page.turnPage(1)" class="text-free"></li>                <li>                    <a href="" onclick="page.turnPage(2,event,this)"></a>                </li>                <li>                </li>            </ol>            <div class="panel panel-default border-0 box-shadow-0" id="mainContent-2">            </div>            <nav>                <ul class="pager" id="level-2-pagination">                </ul>            </nav>        </div>        <div class=" flex-item-1 margin-l-1" style="min-height: 600px;margin-left: 3em" id="mainContent3">            <ol class="breadcrumb text-size-14 point">                <li onclick="page.turnPage(1)" class="text-free"></li>                <li>                    <a href="" onclick="page.turnPage(2,event,this)"></a>                </li>                <li></li>            </ol>            <div class="panel panel-default border-0 box-shadow-0" id="mainContent-3">                <div id="category-title-3">                    <div class="panel-heading custom-heading category-title font-family-MSMincho">検索結果</div>                </div>                <div class="panel-body">                </div>                <nav>                    <ul class="pager" id="pagination">                    </ul>                </nav>            </div>        </div>    </div>    <div class="container position-r" style="height: 60px;margin-top: 50px;">        <div style="            position: absolute;            bottom: 5px;            right: 0;            width: 200px;            height: 20px;            text-align: center;            line-height: 20px;            cursor: pointer;            "             onclick="page.scollTop()">            <img src="./assets/img/top.png" alt="">            <span>ページトップへ</span>        </div>    </div></section><footer class="flex flex-flow-column flex-justify-content-around flex-align-items-center text-size-15"        style="height: 116px;background: #090909;padding-top: 20px;position: relative;">    <div class="flex flex-flow-row flex-justify-content-around flex-align-items-center"         style="text-align: center;color: #fff">        <a href="http://www.joint-win.com/Cn/about/index/catid/31" class="flex-item-5 text-center text-white">律所紹介</a>        <span class="flex-item-1 text-center">|</span>        <a href="/#home/guide" onclick="renderForm('#mainContent-2',guide)" class="flex-item-5 text-center text-white">会員サービスのご案内</a>        <span class="flex-item-1 text-center">|</span>        <a href="/#home/form_Consultation" onclick="renderForm('#mainContent-2',form_Consultation)"           class="flex-item-5 text-center text-white">お問い合わせ</a>        <span class="flex-item-1 text-center">|</span>        <a href="http://www.joint-win.com/Cn/contact/contact/catid/45"           class="flex-item-5 text-center text-white">連絡先</a>    </div>    <div class="flex flex-flow-column flex-justify-content-center flex-align-items-center text-white">        <div class=" text-size-13"> Copyright(c) LVSI(SHANGHAI) NETWORK TECNOLOGY CO., LTD</div>        <div class=" text-size-13">沪ICP备18018847号-2</div>    </div></footer><div class="loading loading-dark" id="loading">    <!--<img src="./assets/img/loading.gif" alt="">--></div><div id="message"></div><script src="./assets/js/jquery.min.js"></script><script src="./config/index.js" type="text/babel"></script><script src="./assets/js/utils.js?a=2" type="text/babel"></script><script src="./assets/js/bootstrap.min.js" type="text/babel"></script><script src="./assets/js/template.js"></script><script src="./tpl/index.js?o=12123" type="text/babel"></script><script src="./tpl/form.js?o=2" type="text/babel"></script><script src="./tpl/MemberGuide.js?c=2" type="text/babel"></script><script src="./tpl/business.js?o=3" type="text/babel"></script><script src="./tpl/pay.js?o=3" type="text/babel"></script><script type="text/babel">  let pagination3 = window.pagination3 = {    page_size: 10,    page_no: 1,    total: 0,    keywords: '',  }  window.template = template  function Pagination () {    this.page_size = 10    this.page_no = 1    this.total = 0    this.keywords = ''  }  window.Pagination = Pagination  let paginationObject = window.paginationObject = {}  $(function () {    $(document).on('mouseover', '#searchForm', function (e) {      e.stopPropagation()      $('.nav-hover').find('.container-fluid').css({        'opacity': '0',        'z-index': 0,        'display': 'none',      })      $('#search-box').css({        'z-index': 1000,        'display': 'flex',      })      $('#search-box').find('.container-fluid').css({        'opacity': 1,        'z-index': 1000,        'display': 'flex',      })    })    $(document).on('mouseleave', '#search-box .container-fluid', function (e) {      e.stopPropagation()      $('#search-box').css({        'z-index': 0,        'display': 'none',      })      $('#search-box').find('.container-fluid').css({        'opacity': 0,        'z-index': 0,        'display': 'none',      })    })    $(document).on('mouseover', '#my-nav-hover > li', function (e) {      e.stopPropagation()      $('#search-box').find('.container-fluid').css({        'opacity': 0,        'z-index': 0,        'display': 'none',      })      $('#search-box').css({        'z-index': 0,        'display': 'none',      })      $('.nav-hover').find('.container-fluid').css({        'opacity': 0,        'z-index': 0,        'display': 'none',      })      $('#navbar-' + ($(this).index())).css({        'opacity': 1,        'z-index': 1000,        'display': 'flex',        'cursor': 'pointer',      })    })    $(document).on('mouseleave', '.nav-hover .container-fluid', function (e) {      e.stopPropagation()      $('.nav-hover').find('.container-fluid').css({        'opacity': 0,        'z-index': 0,        'display': 'none',      })    })    //    //    $('[data-spy=affix]').affix({    //      offset: {    //        top: 324,    //        bottom: function () {    //          return (this.bottom = 100)    //        },    //      },    //    })    template.config({      compress: true,      error (e) {        //        console.log(e)      },    })    template.registerFunction('getHash', function (category, self) {      // console.log(category,self)      let nav = myx.getId(category)      return `home/${nav.parent_id}/${nav.self_id}/${self}`      // let hash =  myx.getHash()      // if(hash[1]){      //   if(hash[1] == category){      //     return hash[0] + '/' + hash[1] + '/' + self      //   }else{      //     return myx.getHash() + '/' + self      //   }      // }else{      //   return hash[0] + '/' + category + '/' + self      // }    })    template.registerFunction('getParmas', function () {      let path = myx.getHash().split('/').length == 0 ? [myx.getHash()] : myx.getHash().split('/')      return path    })    template.registerFunction('vHtml', function (html) {      __encodeHTML()      return path    })  })</script><script type="text/babel">  const categoryMap = window.categoryMap = {    home: 'トップページ',    form_Consultation: 'お問い合わせ',    guide: '会員サービスのご案内',    business: '業務分野',    requisition: '「中国労働法会員サービス」お申込書',    search: '検索結果',    pay: '会員を開通する',  }, categoryArr = window.categoryArr = [''], articlesName = window.articlesName = new Map()  window.isToPay = false, window.isDetail = false, window.intval = 0  let test = ''  function render (data, paramTpl, el) {    paramTpl = paramTpl || 'listBox'    el = el || 'hot-list'    $(`#${el}`).append(template(tpl[paramTpl], data))  }  window.render = render  $(function () {    page.addEventListener()    page.init()  })  const page = window.page = {    init () {      this.getMenu()      $.get(config.api.checkLogin()).then(data => {        if (data.code == 'success') {          //          $('#loginForm').css({'background':'url(./assets/img/login.jpg);'})          page.isLogin(true)          $('#username').html(data.data.name)        } else {          //          page.showMessage({text: '会員に登録してください'})          page.isLogin(false)          //          $('#loginForm').css({'background':'url(./assets/img/loginout.jpg);'})        }      })    },    isLogin (v) {      myx.loginStatus = v      $('#loginForm,#loginOutForm').hide()      if (v) {        $('#btn-login,#user-login').hide()        $('#btn-loginOut,#user-info').show()        $('#loginOutForm').show()        $('input[name=uname],input[name=pwd]').attr('disabled', true)        //        $('#loginForm').hide()        //        $('#logined').show()      } else {        //                  $('#loginForm').css({'background':'url(./assets/img/login.jpg);'})        $('#loginForm').show()        $('input[name=uname],input[name=pwd]').attr('disabled', false)        $('#btn-login,#user-login').show()        $('#btn-loginOut,#user-info').hide()        //        $('#loginForm').show()        //        $('#logined').hide()      }      $('#loading').hide()    },    toKeywords (e) {      $('input[name="keywords"]').val($(e).val())    },    showMessage (params) {      return new myx.customMessage(params)    },    scollTop () {      $('html,body').animate({'scrollTop': 0})    },    turnPage (params, target, self) {      switch (params) {        case 1:          location.hash = 'home'          break        case 2:          let path = self.hash.replace(/\#/, '').split('/')          target = window.event || target          if (path[1] == 'search' || path[1] == 'pay') {            target.preventDefault()            return          }          //          console.log(path)          page.fetchCategory(target, {category_id: path[1]})      }    },    setPath () {      let path = myx.getHash().split('/').length == 0 ? [myx.getHash()] : myx.getHash().split('/')      $(`li[data-nav-level=1]`).removeClass('active')      $(`li[data-nav-name=${path[0] || path[1]}]`).addClass('active')      if (path[0] == 'home' && !path[1]) {        $('.banner-bg-c').show()        //        $('.main').css({marginTop: 0})        //        $('#search-box .container-fluid').css({'background-color': 'rgba(255, 255, 255, .8)'})        //        $('.nav-hover .container-fluid').css({'background-color': 'rgba(255, 255, 255, .8)'})      } else {        //        let num = []        //        for (let i of $('#my-nav-menus > div')) {        //          num.push(i.offsetHeight)        //        }        //        $('.main').css({marginTop: Math.max.apply(null, num)})        $('.banner-bg-c').hide()        //        $('#search-box .container-fluid').css({'background-color': 'rgba(0, 0, 0, .6)'})        //        $('.nav-hover .container-fluid').css({'background-color': 'rgba(0, 0, 0, .6)'})      }      if (path[0]) {        $('.breadcrumb li:nth-child(1)').html(myx.resTree.get(String(path[0]) || String(path[1])))        $('.breadcrumb li:nth-child(1)').show()      } else {        $('.breadcrumb li:nth-child(1)').hide()      }      if (path[1]) {        //        console.log(myx.resTree.get(String(path[1])), articlesName.get(String(path[2])))        $('.breadcrumb li:nth-child(2)').show()        $('.breadcrumb li:nth-child(2)').find('a').attr('href', '/#home/' + path[1])        $('.breadcrumb li:nth-child(2)').find('a').html(myx.resTree.get(String(path[1])) ? myx.resTree.get(String(path[1])) : articlesName.get(String(path[1])))      } else {        $('.breadcrumb li:nth-child(2)').hide()      }      if (path[2]) {        //        console.log(path[2], '``````````````````````````')        $('.breadcrumb li:nth-child(3)').show()        $('.breadcrumb li:nth-child(3)').html(myx.resTree.get(String(path[2])) ? myx.resTree.get(String(path[2])) : articlesName.get(String(path[2])))      } else {        $('.breadcrumb li:nth-child(3)').hide()      }      if ((path[0] == 'home' || path[0] == '') && (!path[1] || path[1] == '')) {        $('#mainContent1').show()        $('#mainContent2,#mainContent3').hide()        $('#nav-breadcrumb').hide()      } else {        $('#mainContent1,#mainContent2,#mainContent3').hide()        $('#nav-breadcrumb').show()        let current        if ((path[1] && path[1] == 'search')) {          current = 'mainContent3'        } else if ((path[1] && path[1] == 'pay')) {          current = 'mainContent2'          $('#nav-breadcrumb').hide()          page.toPay()        } else {          current = 'mainContent2'        }        $(`#${current}`).show()        //        $('#mainContent1,#mainContent3').hide()      }      $('#loading').hide()    },    getMenu () {      location.href = location.origin + '/#home'      //      page.checkLogin()      $('#mainContent1').show()      $('#mainContent2,#mainContent3').hide()      page.getCategory().then(data => {        myx.getCategoryTree(data.data)        $('#my-nav-hover').html(template(tpl.nav, {data: data.data}))        $('#my-nav-menus').html('')        //        let category = [page.getlist({        //          recommend: 1,        //          page_size: 4,        //        })]        data.data.map((item, index) => {          categoryMap[item.id] = item.name          categoryArr.push(item.name)          //          category.push(page.getlist({          //            cid: item.id,          //            page_size: 4,          //          }))          if (item.childs && item.childs.length > 0) {            let content = []            item.childs.map($v => {              if (!categoryMap['child']) {                categoryMap['child'] = {}              }              if (!categoryMap['child'][$v.parent_id]) categoryMap['child'][$v.parent_id] = []              categoryMap['child'][$v.parent_id].push({                name: $v.name,                id: $v.id,              })              content.push(template(tpl.navHoverChilds, {                name: $v.name,                category_id: $v.id,                parent_id: $v.parent_id,              }))            })            let html = template(tpl.navHover, {              index,              content: content,            })            $('#my-nav-menus').append(html)          }        })        //        Promise.all(category).then(data => {        //          $('#loading').show()        page.getPageContent()        //        })      })    },    getPageContent (params) {      $('#hot-list').html('')      Promise.all([page.getLatest(), page.getDiffCategoryList({        recommend: 1,        page_size: 5,      })]).then(data => {        let content = []        $('#loading').show()        if (data[0].data.length > 0) {          data[0].data.map((item, index) => {            content.push(template(tpl.listItem, {              time: myx.getDate(item.public_date), //            category:categoryMap[item.category_id],              content: item.title,              isFree: item.is_free == 2 ? true : false,              index,              id: item.id,              category_id_1: item.category_id_1,              category_id_2: item.category_id_2,              category_name_2: item.category_name,            }))          })          render({            title: categoryArr,            content: content,            index: 0,            style: 1,          })        }        if (data[1].data.length > 0) {          for (let i = 0; i < data[1].data.length; i++) {            if (data[1].data[i].articles.length == 0) {              continue            }            content = []            data[1].data[i].articles.map((item, index) => {              content.push(template(tpl.listItem, {                time: myx.getDate(item.public_date), //            category:categoryMap[item.category_id],                content: item.title,                isFree: item.is_free == 2 ? true : false,                index,                id: item.id,                category_id_1: data[1].data[i].id,                category_id_2: item.category_id,                category_name_2: data[1].data[i].name,              }))            })            //            console.log(data[1].data[i])            render({              title: categoryArr,              content: content,              index: i + 1,              style: 1,              category_name: data[1].data[i].name,              parent_id: data[1].data[i].parent_id,              category_id: data[1].data[i].id,            })          }        }        page.setPath()      })    },    /**     * 一个方法走遍天下。。。。。。。     * 导航事件数据处理     * @param params     * @returns {*|Promise}     */    fetchCategory (target, params) {      isDetail = false      $('#level-2-pagination').hide()      return new Promise((resolve, reject) => {        target = window.event || target        //        console.log(params.category_id, params.id)        let info = myx.getId(params.category_id)        if (params.category_id && !params.id) {          //      if (1) {          let paramters = {cid: params.category_id}          if (params.paginationObject) {            paramters = {              cid: params.category_id,              pagination: params.paginationObject,            }          }          page.getCategory({cid: params.category_id}).then(categoryData => {            let path = myx.getHash().split('/').length == 0 ? [myx.getHash()] : myx.getHash().split('/')            if (categoryData.data.length <= 0) {   //  没有分类 。。。。   第三级              page.getlist(paramters).then(articlesData => {                $('#mainContent2').show()                $('#mainContent-2').html('')                page.handlerCategory(articlesData).then(res => {                  if (!res) {                    $('#loading').hide()                    resolve(false)                    return                  }                  let categoryItem = res.categoryItem, categoryItemContent = res.categoryItemContent                  if (info.level == 2) {                    paginationObject[params.category_id] = new Pagination({                      page_size: 10,                      page_no: 1,                    })                    $('#mainContent-2').html(template(` <div id="category-title"><div class="panel-heading custom-heading category-title font-family-MSMincho"><%=title%></div></div>`, {                      title: myx.resTree.get(String(params.category_id)),                      category: info.self_name,                      categoryId: info.self_id,                      parent_id: info.parent_id,                    }))                    let arr = {                      parent_id: info.parent_id,                      title: info.self_name,                      index: i,                      style: 2,                      content: [],                      childs: false,                    }                    for (let i = 0; i < categoryItemContent.length; i++) {                      arr.content.push(categoryItemContent[i].dom)                    }                    if (arr['content'].length > 0) render(arr, 'listItemBox', 'category-title')                    page.addPagination('', {                      params,                      articlesData,                    })                    $('#loading').hide()                    resolve(articlesData)                  }                })              })            } else {  // 第二级  有分类              page.getDiffCategoryList(paramters).then(articlesData => {                $('#mainContent2').show()                $('#mainContent-2').html('')                page.handlerCategory(articlesData).then(res => {//                  console.log(res)                  if (!res) {                    $('#loading').hide()                    resolve(false)                    return                  }                  let categoryItemContentArr = res                  let category = [], categoryId = []                  for (let i = 0; i < categoryData.data.length; i++) {                    category.push(categoryData.data[i].name)                    categoryId.push(categoryData.data[i].id)                  }                  $('#mainContent-2').html(template(` <div id="category-title"><div class="panel-heading custom-heading category-title font-family-MSMincho"><%=title%></div>                                                                     <div class="panel-body flex category-title category-box" style="display:flex;flex-flow:row wrap">                                                                         <% for(i in category) { %>                                                                         <a href="/#home/<%=parent_id%>/<%=categoryId[i]%>" onClick="page.fetchCategory(event,{category_id:'<%=categoryId[i]%>'})" style="padding: 5px 0">                                                                             <span class="arrow-right text-free"></span>                                                                             <span><%=category[i]%></span>                                                                         </a>                                                                         <% } %>                                                                     </div></div>`, {                    title: myx.resTree.get(String(params.category_id)),                    category,                    categoryId,                    parent_id: params.category_id,                  }))                  categoryData.data.map((item, index) => {                    //                  console.log(item, '分类')                    let arr = {                      id: item.id,                      parent_id: item.parent_id,                      title: item.name,                      index: index + 1,                      style: item.level,                      content: [],                      childs: true,                    }                    for (let k = 0; k < categoryItemContentArr.length; k++) {                      for (let i = 0; i < categoryItemContentArr[k].categoryItemContent.length; i++) {                        if (item.name == categoryItemContentArr[k].categoryItemContent[i].name) {                          arr.content.push(categoryItemContentArr[k].categoryItemContent[i].dom)                        }                      }                      //                  console.log(arr, index)                    }                    if (arr['content'].length > 0) render(arr, 'listItemBox', 'category-title')                  })                  resolve(articlesData)                })              })            }            setTimeout(function () {              $('#loading').hide()            }, 1000)          })        } else if (params.id && params.category_id) {   // 文章详情          //        target.cancelable = false          if (!!!myx.loginStatus && !params.isFree) {            $(target.target).href = ''            isToPay = !params.isFree            location.hash = 'home/pay'            renderForm('#mainContent-2', pay)            target.preventDefault()            //            page.showMessage({text: '会員に登録してください'})            return false          }          let path = $(target.target).parents('a').get(0)          isDetail = true          page.getDetails({id: params.id}).then(detailData => {            articlesName.set(String(detailData.data.id), detailData.data.title)            $('#mainContent-2').html('')            $('#mainContent-2').html(template(`             <div class="panel-heading custom-heading category-title font-family-MSMincho"><%=title%></div>                                                            <div class="panel-body category-title category-box" id="articles-content">                                                            </div>`, {              title: detailData.data.title,              updated: detailData.data.public_date,              vimg: detailData.data.vimg,            }))            document.getElementById('articles-content').innerHTML = detailData.data.content            $('#articles-content').after('<div class="panel-body" style="padding: 15px 85px;position: relative;margin-top: 60px"> <img src="./assets/img/b-png.png"> </div>')            $('#loading').hide()          })        }      })    },    /**     * 处理文章 list     * @param data Array     * @returns {*|Promise}     */    categoryItem: new Set(),    handlerCategory (data) {      return new Promise((resolve, reject) => {        if (data.data && data.data.length && data.data.length > 0) {          let response = []          data.data.map((item1, index) => {            let res = handle(item1.articles)//            console.log(res)            if (res) response.push(res)            if (data.data.length == index + 1) resolve(response)          })        }        if (data.data && data.data.articles) {          let res = handle(data.data.articles)          resolve(res)        }      })      function handle (articles) {//        console.log(articles.length)        let {categoryItem, categoryItemContent} = {          categoryItem: new Set(),          categoryItemContent: [],        }        //        console.log(articles.length)        if (articles.length > 0) {          articles.map((item, index) => {            //          console.log(index)            categoryItem.add(item.category_name)            articlesName.set(item.id, item.title)            categoryItemContent.push({              id: item.category_id,              name: item.category_name,              dom: template(tpl.listItemBoxItem, {                id: item.id,                time: myx.getDate(item.public_date),                category: item.category_name,                content: item.title,                isFree: item.is_free == 2 ? true : false,                index,                category_id: item.category_id,                category_name: item.category_name,                style: 2,              }),            })            if (articles.length == categoryItemContent.length) {              return {                categoryItem,                categoryItemContent,              }            }          })        }        return {          categoryItem,          categoryItemContent,        }      }    },    toPay () {      renderForm('#mainContent-2', pay)    },    addEventListener () {      $(document).on('contextmenu', function (e) {        if (isDetail) {          e.returnValue = false          return false        }      })      $(document).on('selectstart', function (e) {        if (isDetail) {          e.returnValue = false          return false        }      })      $(document).on('submit', '#searchForm', function () {        let params = myx.mapToJson(myx.serializeArrayToMap($(this).serializeArray()))        page.search(myx.stringToJson(params).keywords)      })      $(document).on('click', '.after-search-dom', function () {        $('#mainContent1,#mainContent2,#mainContent3').hide()        let params = myx.mapToJson(myx.serializeArrayToMap($('#searchForm').serializeArray()))        page.search(myx.stringToJson(params).keywords)      })      window.addEventListener('hashchange', function () {        if (!intval) {          intval = setInterval(() => {            if (ajaxNum == 0) {              page.setPath()              clearInterval(intval)              intval = 0            }          }, 100)        }      })      $(document).on('blur', '#form_Consultation input,#form_Consultation textarea', function () {        let params = this.name.split(',')        if (params[1] && params[1] == 'required') {          if (this.value != '') {            $(this).parents('.form-group').removeClass('has-error')          } else {            $(this).parents('.form-group').addClass('has-error')          }        }      })      $(document).on('focus', '#form_Consultation input,#form_Consultation textarea', function () {        $(this).parents('.has-error').removeClass('has-error')      })    },    //忘记密码    forgetPassword () {    },    /**     * 登录     */    login () {      let data = $('#loginForm').serialize()      let params = myx.getSearch(data)      if (params.uname == '' || params.pwd == '') {        page.showMessage({text: 'アカウントのパスワードは空になることはできません'})        return      }      myx.get(config.api.login(), params).then(data => {        page.isLogin(true)        page.init()      }).catch(e => {        page.isLogin(false)        page.showMessage({text: 'ログイン失敗、再登録してください！'})      })    },    /**     *     */    loginOut () {      myx.get(config.api.loginOut()).then(data => {        page.isLogin(false)        $('#loading').hide()      })    },    /**     * 检查登录     */    checkLogin () {      function request () {        return $.get(config.api.checkLogin())      }      return new Promise((resolve, reject) => {        request().then(checkLogin => {          if (checkLogin.code == 'success') {            page.isLogin(true)            $('#username').html(checkLogin.data.name)            //        page.showMessage({text: '登录成功！'})            resolve(true)          } else {            page.showMessage({text: '会員に登録してください'})            page.isLogin(false)            //        if (location.href != config.api.host) location.href = config.api.host            resolve(false)          }        })      })    },    /**     * 搜索     * @param params     * @returns {*|Promise}     */    search (keywords, page = 1, category_id, event) {      if (page < 1 || page > pagination3.totalPage) {        return      }      if (!keywords && category_id) {        event = window.event || event        if (page < 1 || page > paginationObject[category_id].totalPage) {          return        }        paginationObject[category_id].page_no = page        this.fetchCategory(event, {          category_id: category_id,          paginationObject: paginationObject[category_id],          isSearch: true,        }).then((data) => {          console.log('cid = 1')        })      } else {        location.hash = 'home/search'        pagination3.keywords = keywords        let params = {}, paramskeywords = keywords ? keywords : ''        if (keywords && !page) {          pagination3.page_no = 1          pagination3.keywords = keywords          params = {            keywords: keywords,            page_no: pagination3.page_no,            page_size: pagination3.page_size,          }        } else {          pagination3.page_no = page          params = {            keywords: pagination3.keywords,            page_no: pagination3.page_no,            page_size: pagination3.page_size,          }        }        let url = config.api.search()        myx.get(url, params).then(data => {          if (data.data.articles.length < 1) {            $('#mainContent-3 .panel-body').html('没有内容被搜到')          } else {            this.addPagination('mainContent-3', {              data,              paramskeywords,            })            $('#mainContent-3 .panel-body').html('')            for (let [index, detail] of data.data.articles.entries()) {              console.log(detail.category_name)              $('#mainContent-3 .panel-body').append(template(tpl.listItemBoxItem, {                id: detail.id,                time: myx.getDate(detail.public_date),                content: detail.title,                isFree: detail.is_free == 2 ? true : false,                index,                category_id: detail.category_id,                category_name: detail.category_name || '',                style: 2,              }))            }          }          $('#loading').hide()        })      }    },    addPagination (id, {params, articlesData, data, paramskeywords}) {      //      console.log(arguments)      if (!id) {        $('#level-2-pagination').show()        $('#mainContent1,#mainContent3').hide()        paginationObject[params.category_id].total = String(articlesData.data.total)        paginationObject[params.category_id].totalPage = Math.ceil(paginationObject[params.category_id].total / paginationObject[params.category_id].page_size)        $('#level-2-pagination').html('')        $('#level-2-pagination').append(`<li class='${paginationObject[params.category_id].page_no <= 1 ? 'disabled' : ''}'><a href="javascript:page.search(${null},${paginationObject[params.category_id].page_no - 1},${params.category_id},event)">前のページへ</a></li>`)        for (let i = 0; i < paginationObject[params.category_id].totalPage; i++) {          $('#level-2-pagination').append(`<li class="${paginationObject[params.category_id].page_no == i + 1 ? 'active' : ''}"><a href="javascript:page.search(${null},${i + 1},${params.category_id},event)">${i + 1}</a></li>`)        }        $('#level-2-pagination').append(`<li class='${paginationObject[params.category_id].page_no >= paginationObject[params.category_id].totalPage ? 'disabled' : ''}'><a href="javascript:page.search(${null},${paginationObject[params.category_id].page_no + 1},${params.category_id},event)">次のページへ</a></li>`)        return      }      if (id == 'mainContent-3') {        console.log(id, 'mainContent3')        $('#level-2-pagination').show()        $('#mainContent3').show()        $('#mainContent1,#mainContent2').hide()        pagination3.total = String(data.data.total)        pagination3.totalPage = Math.ceil(pagination3.total / pagination3.page_size)        $('#pagination').html('')        $('#pagination').append(`<li class='${pagination3.page_no <= 1 ? 'disabled' : ''}'><a href="javascript:page.search('${paramskeywords}',${pagination3.page_no - 1})">前のページへ</a></li>`)        for (let i = 0; i < pagination3.totalPage; i++) {          $('#pagination').append(`<li class="${pagination3.page_no == i + 1 ? 'active' : ''}"><a href="javascript:page.search('` + paramskeywords + `',${i + 1})">${i + 1}</a></li>`)        }        $('#pagination').append(`<li class='${pagination3.page_no >= pagination3.totalPage ? 'disabled' : ''}'><a href="javascript:page.search('${paramskeywords}',${pagination3.page_no + 1})">次のページへ</a></li>`)        return      }    },    /**     * 分类 ID 获取下级分类信息     * @param params cid     * @returns {*|Promise}     */    getCategory (params) {      let defalut_params = {        cid: 0,      }      Object.assign(defalut_params, params)      return myx.get(config.api.getCategory(), defalut_params)    },    /**     * 分类 ID 获取文章列表     * @param params     * @returns {*|Promise}     */    getlist (params) {      let defalut_params = {        cid: 0,        recommend: 0, //1为热门文章        page_no: 1,        page_size: 10,      }      if (params.pagination) {        //        let pagination = new Object(params.pagination)        for (let [key, val] of Object.entries(params.pagination)) {          params[key] = val        }        delete params.pagination      }      return myx.get(config.api.getlist(), Object.assign(defalut_params, params))    },    /**     * 分类 ID 获取文章列表     * @param params     * @returns {*|Promise}     */    getLatest () {      return myx.get(config.api.latest())    },    /**     * 获取多分类文章列表     * @param params     * @returns {*|Promise}     */    getDiffCategoryList (params) {      let defalut_params = {        cid: 0,        recommend: 0, //1为热门文章        page_no: 1,        page_size: 10,      }      return myx.get(config.api.getDiffCategoryList(), Object.assign(defalut_params, params))    },    /**     * 获取文章详情     * @param params 文章ID     * @returns {*|Promise}     */    getDetails (params) {      let defalut_params = {        id: '',      }      return myx.get(config.api.details(), Object.assign(defalut_params, params))    },    email: '',    form_Consultation (form) {      form.preventDefault()      //      console.log($(form.target).serializeArray())      let arr = $(form.target).serializeArray()      for (let i = 0, len = arr.length; i < len; i++) {        let item = arr[i]        let key = item.name.split(',')        item.name = key[0]        if (key[1]) {          if (item.value == '') {            $('[name="' + key[0] + ',' + key[1] + '"]').attr('placeholder', '入力してください')            $('[name="' + key[0] + ',' + key[1] + '"]')[0].focus()            $('[name="' + key[0] + ',' + key[1] + '"]').parents('.form-group').addClass('has-error')            return          } else {            if (key[0] == 'email' || key[0] == 'repeat-email') {              if (!myx.validateEmail(item.value)) {                page.showMessage({text: 'メールを入力してください!'})                $('[name="' + key[0] + ',' + key[1] + '"]')[0].focus()                $('[name="' + key[0] + ',' + key[1] + '"]').parents('.form-group').addClass('has-error')                return              }            }            if (key[0] == 'email') {              page.email = {                value: item.value,                name: key[0] + ',' + key[1],              }            }            if (key[0] == 'repeat-email') {              if (page.email.value != item.value) {                page.showMessage({text: '同じメールを入力してください!'})                $(`[name=${'"' + key[0] + ',' + key[1] + '"'}]`)[0].focus()                $(`[name=${'"' + key[0] + ',' + key[1] + '"'}],[name=${'"' + page.email.name + '"'}]`).parents('.form-group').addClass('has-error')                return              }            }            $('.form-group.has-error').removeClass('has-error')            //            $('[name="' + key[0] + ',' + key[1] + '"]').parents('.form-group').removeClass('has-error')          }        }      }      if (!$('[type=checkbox]').is(':checked')) {        page.showMessage({text: '選んでください！'})        return      }      myx.post({        url: config.api.postContent(),        data: myx.serializeArrayToObj(arr),      }).then(data => {        if (data.code) {page.showMessage({text: '成功する!'})} else {page.showMessage({text: '失敗を提出する!'})}        $('#loading').hide()      })    },    requisition (form) {      form.preventDefault()      //      console.log($(form.target).serializeArray())      let arr = $(form.target).serializeArray()      for (let i = 0, len = arr.length; i < len; i++) {        let item = arr[i]        let key = item.name.split(',')        item.name = key[0]        if (key[1]) {          if (item.value == '') {            $('[name="' + key[0] + ',' + key[1] + '"]').attr('placeholder', '入力してください')            $('[name="' + key[0] + ',' + key[1] + '"]')[0].focus()            $('[name="' + key[0] + ',' + key[1] + '"]').parents('.form-group').addClass('has-error')            return          } else {            $('[name="' + key[0] + ',' + key[1] + '"]').parents('.form-group').removeClass('has-error')          }        }      }      console.log(myx.serializeArrayToObj(arr))      myx.post({        url: config.api.apply(),        data: myx.serializeArrayToObj(arr),      }).then(data => {        if (data.code) {page.showMessage({text: '成功する!'})} else {page.showMessage({text: '失敗を提出する!'})}        $('#loading').hide()        //        console.log(data)      })    },  }</script><script src="./assets/js/browser.min.js"></script><!--<div style="width: 100vw;height: 1px;background: #000;position: absolute;left: 0;top: 1052px;z-index: 1000000;"></div>--></body></html>