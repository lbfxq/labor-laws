var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},vo;!function(t){var e;!function(e){var i=function(){function e(){this.token=t.UserVo.getInstance().token}return e}();e.HttpBaseVo=i,__reflect(i.prototype,"vo.http.HttpBaseVo");var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(i);e.GetUserInfoVo=n,__reflect(n.prototype,"vo.http.GetUserInfoVo");var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=0,e.level=0,e.step=0,e.num_sum=0,e.pass=0,e.isContest=!1,e}return __extends(e,t),e}(i);e.SaveGameScoreVo=o,__reflect(o.prototype,"vo.http.SaveGameScoreVo");var s=function(){function t(){this.list=[]}return t}();e.GetStoreReturnVo=s,__reflect(s.prototype,"vo.http.GetStoreReturnVo")}(e=t.http||(t.http={}))}(vo||(vo={}));var ui;!function(t){var e=function(){function t(){fairygui.UIPackage.addPackage("Loading"),this._root=fairygui.UIPackage.createObject("Loading","Loading").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height)}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.show=function(){fairygui.GRoot.inst.addChild(this._root)},t.prototype.hide=function(){fairygui.GRoot.inst.removeChild(this._root)},t}();t.LoadingUI=e,__reflect(e.prototype,"ui.LoadingUI")}(ui||(ui={}));var checkin;!function(t){var e=function(){function t(){this.count=1,this.lastCheckInTime=0,this.checkInPeriod=600}return t}();t.CheckInVo=e,__reflect(e.prototype,"checkin.CheckInVo")}(checkin||(checkin={}));var checkin;!function(t){var e=function(){function t(){this._root=fairygui.UIPackage.createObject("AllRes","CheckIn").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.closeBtn=this._root.getChild("closeBtn").asButton,this.nameTextInput=this._root.getChild("nameTextInput").asTextInput,this.okBtn=this._root.getChild("okBtn").asButton,this.closeBtn.addClickListener(this.destroy,this),this.okBtn.addClickListener(this.okBtnClick,this)}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),this._instance},t.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),t._instance=null},t.prototype.show=function(){egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root),this.nameTextInput.text=vo.UserVo.getInstance().userName},t.prototype.enterFrame=function(){},t.prototype.okBtnClick=function(){var t=this;entername.HttpLogic.SendUserName(this.nameTextInput.text,function(){vo.UserVo.getInstance().userName=t.nameTextInput.text,t.destroy()})},t}();t.EnterNameUI=e,__reflect(e.prototype,"checkin.EnterNameUI")}(checkin||(checkin={}));var entername;!function(t){var e=function(){function t(){}return t.SendUserName=function(t,e){var i=new http.Http;i.getRequestByObj(vo.ConfigVo.HttpURL+"setting/index",t,function(t){var i=http.Http.parseServerData(t);if(null!=i){egret.log(i);var n=CryptoJS.TripleDES.decrypt(i,vo.ConfigVo.desKey,""),o=n.toString(CryptoJS.enc.Utf8);egret.log(o),null!=e&&e()}})},t}();t.HttpLogic=e,__reflect(e.prototype,"entername.HttpLogic")}(entername||(entername={}));var gameConfig;!function(t){var e=function(){function t(){this.configObj={}}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.getLevelByID=function(t){for(var e=this.configObj.pass_setting,i=0;e>i;i++){var n=e[i],o=n.id;if(o==t)return n}return null},t.prototype.getMaxLevel=function(){for(var t=0,e=this.configObj.pass_setting,i=0;e>i;i++){var n=e[i],o=n.level;o>t&&(t=o)}return t},t.prototype.getContest=function(t){return void 0===t&&(t=1),this.configObj.contest_list[t.toString(10)]},t}();t.GameConfig=e,__reflect(e.prototype,"gameConfig.GameConfig")}(gameConfig||(gameConfig={}));var gameconfig;!function(t){var e=function(){function t(){}return t.getGameConfig=function(t){var e=new http.Http;e.getRequestByObj(vo.ConfigVo.HttpURL+"setting/index",null,function(e){var i=http.Http.parseServerData(e);null!=i&&null!=t&&t()})},t}();t.HttpLogic=e,__reflect(e.prototype,"gameconfig.HttpLogic")}(gameconfig||(gameconfig={}));var gameover;!function(t){var e=function(){function t(){this._gameVo=vo.UserVo.getInstance().gameVo,this._root=fairygui.UIPackage.createObject("AllRes","GameOver").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.highestScoreLabel=this._root.getChild("highestScoreLabel").asTextField,this.scoreLabel=this._root.getChild("scoreLabel").asTextField,this.viewController=this._root.getController("view"),this.mainBtn=this._root.getChild("mainBtn").asButton,this.replayBtn=this._root.getChild("replayBtn").asButton,this.closeBtn=this._root.getChild("closeBtn").asButton,this.fbBtn=this._root.getChild("fbBtn").asButton,this.coinBtn1=this._root.getChild("coinBtn1").asButton,this.coinBtn2=this._root.getChild("coinBtn2").asButton,this.coinBtn3=this._root.getChild("coinBtn3").asButton,this.coinBtn4=this._root.getChild("coinBtn4").asButton,this.coinBtn5=this._root.getChild("coinBtn5").asButton,this.storeBtn=this._root.getChild("storeBtn").asButton,this.mainBtn.addClickListener(this.mainBtnClick,this),this.replayBtn.addClickListener(this.replayBtnClick,this),this.closeBtn.addClickListener(this.closeBtnClick,this),this.fbBtn.addClickListener(this.fbBtnClick,this),this.coinBtn1.addClickListener(this.coinBtn1Click,this),this.coinBtn2.addClickListener(this.coinBtn2Click,this),this.coinBtn3.addClickListener(this.coinBtn3Click,this),this.coinBtn4.addClickListener(this.coinBtn4Click,this),this.coinBtn5.addClickListener(this.coinBtn5Click,this),this.storeBtn.addClickListener(this.storeBtnClick,this)}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),this._instance},t.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),t._instance=null},t.prototype.show=function(){egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root),this.highestScoreLabel.text=this._gameVo.highestScore.toString(10),this.scoreLabel.text=this._gameVo.score.toString(10),util.HttpLogic.saveGameScore(0),this._gameVo.updateHighestScore();var t=vo.UserVo.getInstance();this.viewController.setSelectedIndex(0),1==t.reliveCount&&this.viewController.setSelectedIndex(1),2==t.reliveCount&&this.viewController.setSelectedIndex(2),3==t.reliveCount&&this.viewController.setSelectedIndex(3),4==t.reliveCount&&this.viewController.setSelectedIndex(4),5==t.reliveCount&&this.viewController.setSelectedIndex(5)},t.prototype.enterFrame=function(){},t.prototype.mainBtnClick=function(){ui.GameUI.getInstance().destroy(),this.destroy()},t.prototype.replayBtnClick=function(){ui.GameUI.getInstance().show(this._gameVo.level),this.destroy()},t.prototype.closeBtnClick=function(){0!=this.viewController.selectedIndex&&this.viewController.setSelectedIndex(0)},t.prototype.fbBtnClick=function(){},t.prototype.coinBtn1Click=function(){},t.prototype.coinBtn2Click=function(){},t.prototype.coinBtn3Click=function(){},t.prototype.coinBtn4Click=function(){},t.prototype.coinBtn5Click=function(){},t.prototype.storeBtnClick=function(){},t}();t.GameOverUI=e,__reflect(e.prototype,"gameover.GameOverUI")}(gameover||(gameover={}));var gridcreater;!function(t){var e=function(){function t(){this._root=fairygui.UIPackage.createObject("AllRes","GridCreater").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),fairygui.GRoot.inst.addChild(this._root);var t=this._root.getChild("createBtn").asButton;t.addClickListener(this.createBtnClick,this),this._gridView=this._root.getChild("gridView").asCom,this.jsonLabel=this._root.getChild("jsonLabel").asTextField}return t.prototype.createBtnClick=function(){var t=parseInt(this._root.getChild("textXCount").asTextField.text,10),e=parseInt(this._root.getChild("textYCount").asTextField.text,10),i=parseInt(this._root.getChild("textMaxNum").asTextField.text,10),n=parseInt(this._root.getChild("textMaxNumCount").asTextField.text,10);try{this.gridVo=new vo.GridVo(t,e,i,n)}catch(o){egret.log(o.message)}this._gridView.removeChildren(0,this._gridView.numChildren,!0);for(var s=0;s<this.gridVo.yCount;s++)for(var r=0;r<this.gridVo.xCount;r++){var a=fairygui.UIPackage.createObject("AllRes","GridCreaterItem").asButton,h=this.gridVo.getIndex(r,s);0!=this.gridVo.gridList[h]&&(a.title=this.gridVo.gridList[h].toString(10)),a.setSize(30,30),a.setXY(35*r,35*s),this._gridView.addChild(a)}this.jsonLabel.text=this.gridVo.toJson()},t}();t.GridCreaterUI=e,__reflect(e.prototype,"gridcreater.GridCreaterUI")}(gridcreater||(gridcreater={}));var http;!function(t){var e=function(){function e(){this._paramsStr=""}return e.prototype.getRequestByObj=function(e,i,n,o,s,r){if(void 0===n&&(n=null),void 0===o&&(o=!0),void 0===s&&(s=egret.HttpMethod.POST),void 0===r&&(r=null),null!=i){var a=t.Http.getSignJson(i,vo.ConfigVo.desKey);i.sign=a}return this.getRequest(e,i,n,o,s,r)},e.prototype.getRequest=function(t,e,i,n,o,s){return void 0===i&&(i=null),void 0===n&&(n=!0),void 0===o&&(o=egret.HttpMethod.POST),void 0===s&&(s=null),this._completeCallback=i,this._errorCallback=s,this.data=e,this.method=o,this.request=new egret.HttpRequest,this.request.responseType=egret.HttpResponseType.TEXT,this._paramsStr=this.encodeParams(e),o==egret.HttpMethod.GET&&this._paramsStr.length>0?this.request.open(t+"?"+this._paramsStr,o):this.request.open(t,o),this.request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.request.addEventListener(egret.Event.COMPLETE,this.onComplete,this),this.request.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onIOError,this),n&&this.send(),this},e.prototype.send=function(){this.method==egret.HttpMethod.POST&&this._paramsStr.length>0?this.request.send(this._paramsStr):this.request.send()},e.prototype.onComplete=function(t){var e=t.currentTarget;null!=this._completeCallback&&this._completeCallback(e.response)},e.prototype.onIOError=function(t){console.log("http error : "+t),null!=this._errorCallback&&this._errorCallback(t)},e.prototype.encodeParams=function(t){if(null==t)return"";for(var e=Object.keys(t),i="",n=0;n<e.length;n++){var o=e[n];i+=o+"="+t[o]+"&"}return i.substring(0,i.length-1)},e.parseServerData=function(t){var e=JSON.parse(t);return e},e.getSign=function(t,e){var i=Object.keys(t);i=i.sort();for(var n="",o=0,s=i;o<s.length;o++){var r=s[o];n+=r+"="+t[r]+"&"}return n+="key="+e,CryptoJS.MD5(n)},e.getSignJson=function(t,e){var i=Object.keys(t);i=i.sort();for(var n={},o=0,s=i;o<s.length;o++){var r=s[o];n[r]=t[r]}return CryptoJS.MD5(JSON.stringify(n)+e).toString()},e}();t.Http=e,__reflect(e.prototype,"http.Http")}(http||(http={}));var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup("preload")},e.prototype.onResourceLoadComplete=function(t){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),hidePreloading(),this.stage.addChild(fairygui.GRoot.inst.displayObject),util.ResLoad.getInstance().load("AllRes",function(){fairygui.UIPackage.addPackage("AllRes"),ui.LoadingUI.getInstance().hide(),new gridcreater.GridCreaterUI},!1)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var ranking;!function(t){var e=function(){function e(){this._pageVo=new vo.PageVo,this._root=fairygui.UIPackage.createObject("AllRes","Ranking").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.upPageBtn=this._root.getChild("upPageBtn").asButton,this.nextPageBtn=this._root.getChild("nextPageBtn").asButton,this.topBtn=this._root.getChild("topBtn").asButton,this.youBtn=this._root.getChild("youBtn").asButton,this.listGroup=this._root.getChild("listGroup").asList,this.upPageBtn.addClickListener(this.upPageBtnClick,this),this.nextPageBtn.addClickListener(this.nextPageBtnClick,this),this.topBtn.addClickListener(this.topBtnClick,this),this.youBtn.addClickListener(this.youBtnClick,this),this._pageVo.currentPage=1,this._pageVo.pageSize=12,this.listGroup.addEventListener(fairygui.ItemEvent.CLICK,this.itemClick,this)}return e.getInstance=function(){return null==e._instance&&(e._instance=new e),this._instance},e.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),e._instance=null},e.prototype.show=function(){egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root),this.updateRankingList()},e.prototype.enterFrame=function(){this._pageVo.hasUp()?this.upPageBtn.enabled=!0:this.upPageBtn.enabled=!1,this._pageVo.hasNext()?this.nextPageBtn.enabled=!0:this.nextPageBtn.enabled=!1},e.prototype.upPageBtnClick=function(){this._pageVo.currentPage--,this.updateRankingList()},e.prototype.nextPageBtnClick=function(){this._pageVo.currentPage++,this.updateRankingList()},e.prototype.topBtnClick=function(){},e.prototype.youBtnClick=function(){},e.prototype.updateRankingList=function(){var e=this,n=new t.HttpGetRankingVo;n.page=this._pageVo.currentPage,n.page_size=this._pageVo.pageSize,util.HttpLogic.getRanking(n,function(t){e._pageVo.currentPage=t.page,e._pageVo.totalPage=t.total_page,e.listGroup.removeChildren(0,e.listGroup.numChildren);for(var n=0;n<t.list.length;n++){var o=new i;o.setItemVo(t.list[n]),o.setSelected(!1),e.listGroup.addChild(o)}})},e.prototype.itemClick=function(t){for(var e=0;e<this.listGroup.numChildren;e++)this.listGroup.getChildAt(e).setSelected(!1);var i=t.itemObject;i.setSelected(!0)},e}();t.RankingUI=e,__reflect(e.prototype,"ranking.RankingUI");var i=function(t){function e(){var e=t.call(this)||this;return e._root=fairygui.UIPackage.createObject("AllRes","RankingItem").asCom,e.addChild(e._root),e.setSize(e._root.width,e._root.height),e.selectedImage=e._root.getChild("selectedImage").asImage,e.rank1=e._root.getChild("rank1").asImage,e.rank2=e._root.getChild("rank2").asImage,e.rank3=e._root.getChild("rank3").asImage,e.rank4=e._root.getChild("rank4").asImage,e.rankLabel=e._root.getChild("rankLabel").asTextField,e.nameLabel=e._root.getChild("nameLabel").asTextField,e.scoreLabel=e._root.getChild("scoreLabel").asTextField,e}return __extends(e,t),e.prototype.setItemVo=function(t){this.rank1.visible=!1,this.rank2.visible=!1,this.rank3.visible=!1,this.rank4.visible=!1,1==t.index&&(this.rank1.visible=!0),2==t.index&&(this.rank2.visible=!0),3==t.index&&(this.rank3.visible=!0),t.index>3&&t.index<10&&(this.rank4.visible=!0),t.index>=0&&t.index<10&&(this.rankLabel.fontSize=30),t.index>=10&&t.index<100&&(this.rankLabel.fontSize=24),t.index>=100&&t.index<1e3&&(this.rankLabel.fontSize=22),this.rankLabel.text=t.index.toString(10),this.nameLabel.text=t.name,this.scoreLabel.text=t.score.toString(10)},e.prototype.setSelected=function(t){this.selectedImage.visible=t},e}(fairygui.GComponent);t.RankingItemUI=i,__reflect(i.prototype,"ranking.RankingItemUI")}(ranking||(ranking={}));var ranking;!function(t){var e=function(){function t(){this.index=0,this.name="",this.score=0}return t}();t.RankingItemVo=e,__reflect(e.prototype,"ranking.RankingItemVo");var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.page=0,e.page_size=0,e}return __extends(e,t),e}(vo.http.HttpBaseVo);t.HttpGetRankingVo=i,__reflect(i.prototype,"ranking.HttpGetRankingVo");var n=function(){function t(){this.page=0,this.total_page=0,this.list=[]}return t}();t.HttpGetRankingReturnVo=n,__reflect(n.prototype,"ranking.HttpGetRankingReturnVo")}(ranking||(ranking={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function o(t){e.call(n,t)}function s(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var ui;!function(t){var e=function(){function e(){this._gameVo=vo.UserVo.getInstance().gameVo,this._root=fairygui.UIPackage.createObject("AllRes","GameComplete").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.highestScoreLabel=this._root.getChild("highestScoreLabel").asTextField,this.scoreLabel=this._root.getChild("scoreLabel").asTextField,this.timeLabel=this._root.getChild("timeLabel").asTextField,this.stepLabel=this._root.getChild("stepLabel").asTextField,this.mainBtn=this._root.getChild("mainBtn").asButton,this.replayBtn=this._root.getChild("replayBtn").asButton,this.nextBtn=this._root.getChild("nextBtn").asButton,this.mainBtn.addClickListener(this.mainBtnClick,this),this.replayBtn.addClickListener(this.replayBtnClick,this),this.nextBtn.addClickListener(this.nextBtnClick,this),(0==this._gameVo.level||this._gameVo.level==gameConfig.GameConfig.getInstance().getMaxLevel())&&(this.nextBtn.visible=!1)}return e.getInstance=function(){return null==e._instance&&(e._instance=new e),this._instance},e.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),e._instance=null},e.prototype.show=function(){egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root),util.HttpLogic.saveGameScore(1)},e.prototype.enterFrame=function(){this.highestScoreLabel.text=this._gameVo.highestScore.toString(10),this.scoreLabel.text=this._gameVo.score.toString(10),this.stepLabel.text=this._gameVo.step.toString(10),this.timeLabel.text=util.Comm.formatGameTimeMSM(this._gameVo.time)},e.prototype.mainBtnClick=function(){this._gameVo.updateHighestScore(),t.MainUI.getInstance().show(),t.GameUI.getInstance().destroy(),this.destroy()},e.prototype.replayBtnClick=function(){this._gameVo.updateHighestScore(),t.GameUI.getInstance().show(this._gameVo.level),this.destroy()},e.prototype.nextBtnClick=function(){this._gameVo.updateHighestScore(),t.GameUI.getInstance().show(this._gameVo.level+1),this.destroy()},e}();t.GameCompleteUI=e,__reflect(e.prototype,"ui.GameCompleteUI")}(ui||(ui={}));var ui;!function(t){var e=function(){function e(){this._gameVo=vo.UserVo.getInstance().gameVo,this.numSizeList=[0,124,124,124,112,101,89,80,70,62],this.numGapList=[0,20,20,20,18,13,9,6.5,5.5,5],this._root=fairygui.UIPackage.createObject("AllRes","Game").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.highestScoreLabel=this._root.getChild("highestScoreLabel").asTextField,this.scoreLabel=this._root.getChild("scoreLabel").asTextField,this.levelLabel=this._root.getChild("levelLabel").asTextField,this.timeLabel=this._root.getChild("timeLabel").asTextField,this.stepLabel=this._root.getChild("stepLabel").asTextField,this.gridAnchor=this._root.getChild("gridAnchor").asGraph,this.gridGroup=this._root.getChild("gridGroup").asCom,this.pauseBtn=this._root.getChild("pauseBtn").asButton,this.pauseBtn.addClickListener(this.pauseBtnClick,this)}return e.getInstance=function(){return null==e._instance&&(e._instance=new e),this._instance},e.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),egret.Ticker.getInstance().unregister(this.onTick,this),e._instance=null},e.prototype.show=function(t,e){void 0===e&&(e=!1),this.init(t,e),egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root),this.startGame()},e.prototype.enterFrame=function(){this.highestScoreLabel.text=this._gameVo.highestScore.toString(10),this.levelLabel.text=this._gameVo.level.toString(10),this.scoreLabel.text=this._gameVo.score.toString(10),this.stepLabel.text=this._gameVo.step.toString(10),this.timeLabel.text=util.Comm.formatGameTimeMSM(this._gameVo.time)},e.prototype.init=function(t,e){void 0===e&&(e=!1),this._gameVo.initLevel(t,e),this._gameVo.score=this._gameVo.baseScore,this._gameVo.time=0,this._gameVo.step=0,this.gridGroup.removeChildren(0,this.gridGroup.numChildren),this._gridBtnList=[];for(var i,n=this._gameVo.gridVo.yCount>this._gameVo.gridVo.xCount?this._gameVo.gridVo.yCount:this._gameVo.gridVo.xCount,o=this.numGapList[n],s=this.numSizeList[n],r=this.numSizeList[n],a=0;a<this._gameVo.gridVo.yCount;a++)for(var h=0;h<this._gameVo.gridVo.xCount;h++){var c=this._gameVo.gridVo.getIndex(h,a);i=fairygui.UIPackage.createObject("AllRes","GridItem").asButton,i.icon=fairygui.UIPackage.getItemURL("AllRes","gridNum_"+this._gameVo.gridVo.gridList[c].toString(10)),0==this._gameVo.gridVo.gridList[c]&&(i.visible=!1),i.setSize(s,r),i.setXY((s+o)*h,(r+o)*a),i.addClickListener(this.gridItemClick,this),i.data=new egret.Point(h,a),this._gridBtnList.push(i),this.gridGroup.addChild(i)}this.gridGroup.setSize((s+o)*this._gameVo.gridVo.xCount,(r+o)*this._gameVo.gridVo.yCount),this.gridGroup.setXY(this.gridAnchor.x,this.gridAnchor.y),this.enterFrame()},e.prototype.startGame=function(){gameConfig.GameConfig.getInstance().getMaxLevel();egret.Ticker.getInstance().register(this.onTick,this)},e.prototype.gridItemClick=function(e){for(var i=e.currentTarget,n=i.data,o=this._gameVo.gridVo,s=o.getSubIndexList(n.x,n.y),r=0;r<s.length;r++){var a=--o.gridList[s[r]];this._gridBtnList[s[r]].icon=fairygui.UIPackage.getItemURL("AllRes","gridNum_"+a.toString(10)),0>=a&&(this._gridBtnList[s[r]].visible=!1)}this._gameVo.step++,this.calScore(),o.gameIsOver()&&(egret.log("game over"),egret.Ticker.getInstance().unregister(this.onTick,this)),o.gameIsComplete()&&(egret.log("game complete"),egret.Ticker.getInstance().unregister(this.onTick,this),t.GameCompleteUI.getInstance().show())},e.prototype.onTick=function(t){this._gameVo.time+=t},e.prototype.calScore=function(){var t=this._gameVo;t.score=Math.floor(t.baseScore-t.time/1e3/3-t.baseScore/t.gridVo.numSum/t.step),t.score<0&&(t.score=0)},e.prototype.pauseBtnClick=function(){egret.Ticker.getInstance().unregister(this.onTick,this)},e}();t.GameUI=e,__reflect(e.prototype,"ui.GameUI")}(ui||(ui={}));var checkin;!function(t){var e=function(){function t(){this.checkInVo=vo.UserVo.getInstance().checkInVo,this._root=fairygui.UIPackage.createObject("AllRes","CheckIn").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.closeBtn=this._root.getChild("closeBtn").asButton,this.checkImage1=this._root.getChild("checkImage1").asImage,this.checkImage2=this._root.getChild("checkImage2").asImage,this.checkImage3=this._root.getChild("checkImage3").asImage,this.checkinBtn=this._root.getChild("checkinBtn").asButton,this.timeLabel=this._root.getChild("timeLabel").asTextField,this.closeBtn.addClickListener(this.destroy,this),this.checkinBtn.addClickListener(this.checkinBtnClick,this)}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),this._instance},t.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),t._instance=null},t.prototype.show=function(){egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root),this.updateData()},t.prototype.updateData=function(){this.checkImage1.visible=!1,this.checkImage2.visible=!1,this.checkImage3.visible=!1,this.checkInVo.count>=1&&(this.checkImage1.visible=!0),this.checkInVo.count>=2&&(this.checkImage2.visible=!0),this.checkInVo.count>=3&&(this.checkImage3.visible=!0),this.checkinBtn.enabled=!1,this.timeLabel.visible=!1},t.prototype.enterFrame=function(){var t=this.checkInVo.lastCheckInTime+this.checkInVo.checkInPeriod-vo.UserVo.getInstance().getServerTime();t>0?(this.timeLabel.text=util.Comm.formatGameTimeHMS(1e3*t),this.timeLabel.visible=!0,this.checkinBtn.enabled=!1):(this.timeLabel.visible=!1,this.checkinBtn.enabled=!0)},t.prototype.checkinBtnClick=function(){},t}();t.CheckInUI=e,__reflect(e.prototype,"checkin.CheckInUI")}(checkin||(checkin={}));var ui;!function(t){var e=function(){function e(){this._root=fairygui.UIPackage.createObject("AllRes","Main").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.levelPlayBtn=this._root.getChild("levelPlayBtn").asButton,this.levelPlayBtn.addClickListener(this.levelPlayBtnClick,this),this.contestPlayBtn=this._root.getChild("contestPlayBtn").asButton,this.contestPlayBtn.addClickListener(this.contestPlayBtnClick,this),this.rankingBtn=this._root.getChild("rankingBtn").asButton,this.rankingBtn.addClickListener(this.rankingBtnClick,this),this.settingBtn=this._root.getChild("settingBtn").asButton,this.settingBtn.addClickListener(this.settingBtnClick,this),this.helpBtn=this._root.getChild("helpBtn").asButton,this.helpBtn.addClickListener(this.helpBtnClick,this),this.checkInBtn=this._root.getChild("checkInBtn").asButton,this.checkInBtn.addClickListener(this.checkInBtnClick,this),this.goldLabel=this._root.getChild("goldLabel").asTextField}return e.getInstance=function(){return null==e._instance&&(e._instance=new e),this._instance},e.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),e._instance=null},e.prototype.show=function(){egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root)},e.prototype.enterFrame=function(){this.goldLabel.text=vo.UserVo.getInstance().gold.toString(10)},e.prototype.levelPlayBtnClick=function(){t.GameUI.getInstance().show(2,!1)},e.prototype.contestPlayBtnClick=function(){t.GameUI.getInstance().show(1,!0)},e.prototype.rankingBtnClick=function(){ranking.RankingUI.getInstance().show()},e.prototype.settingBtnClick=function(){t.SettingUI.getInstance().show()},e.prototype.helpBtnClick=function(){},e.prototype.checkInBtnClick=function(){checkin.CheckInUI.getInstance().show()},e}();t.MainUI=e,__reflect(e.prototype,"ui.MainUI")}(ui||(ui={}));var ui;!function(t){var e=function(){function e(){this.settingVo=vo.SettingVo.getInstance(),this._root=fairygui.UIPackage.createObject("AllRes","Setting").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.userNameTextInput=this._root.getChild("userNameTextInput").asTextInput,this.musicSlider=this._root.getChild("musicSlider").asSlider,this.soundSlider=this._root.getChild("soundSlider").asSlider,this.okBtn=this._root.getChild("okBtn").asButton,this.okBtn.addClickListener(this.okBtnClick,this)}return e.getInstance=function(){return null==e._instance&&(e._instance=new e),this._instance},e.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),e._instance=null},e.prototype.show=function(){egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root),this.userNameTextInput.text=this.settingVo.username,this.musicSlider.value=100*this.settingVo.musicVolum,this.soundSlider.value=100*this.settingVo.soundVolum},e.prototype.enterFrame=function(){},e.prototype.okBtnClick=function(){this.settingVo.username=this.userNameTextInput.text,this.settingVo.musicVolum=this.musicSlider.value/100,this.settingVo.soundVolum=this.soundSlider.value/100,this.settingVo.save(),t.MainUI.getInstance().show(),this.destroy()},e}();t.SettingUI=e,__reflect(e.prototype,"ui.SettingUI")}(ui||(ui={}));var ui;!function(t){var e=function(){function t(){this.userVo=vo.UserVo.getInstance(),this._root=fairygui.UIPackage.createObject("AllRes","Store").asCom,this._root.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.goldLabel=this._root.getChild("upPageBtn").asTextField,this.listGroup=this._root.getChild("listGroup").asList}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),this._instance},t.prototype.destroy=function(){egret.MainContext.instance.stage.removeEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.removeChild(this._root),t._instance=null},t.prototype.show=function(){egret.MainContext.instance.stage.addEventListener(egret.Event.ENTER_FRAME,this.enterFrame,this),fairygui.GRoot.inst.addChild(this._root),this.updateList()},t.prototype.enterFrame=function(){this.goldLabel.text=this.userVo.gold.toString(10)},t.prototype.updateList=function(){var t=this;util.HttpLogic.getStore(function(e){t.listGroup.removeChildren(0,t.listGroup.numChildren);for(var n=0;n<e.list.length;n++){var o=new i;o.setItemVo(e.list[n]),t.listGroup.addChild(o)}})},t}();t.StoreUI=e,__reflect(e.prototype,"ui.StoreUI");var i=function(t){function e(){var e=t.call(this)||this;return e._root=fairygui.UIPackage.createObject("AllRes","StoreItem").asCom,e.addChild(e._root),e.setSize(e._root.width,e._root.height),e.plaintImage=e._root.getChild("plaintImage").asImage,e.goldImage=e._root.getChild("goldImage").asImage,e.oneLabel=e._root.getChild("oneLabel").asTextField,e.twoLabel1=e._root.getChild("twoLabel1").asTextField,e.twoLabel2=e._root.getChild("twoLabel2").asTextField,e.btn=e._root.getChild("btn").asButton,e.btnLabel=e._root.getChild("scoreLabel").asTextField,e.btn.addClickListener(e.btnClick,e),e}return __extends(e,t),e.prototype.setItemVo=function(t){this._itemVo=t,this.goldImage.visible=!1,this.plaintImage.visible=!1,this.oneLabel.visible=!1,this.twoLabel1.visible=!1,this.twoLabel2.visible=!1,this.btn.enabled=!1,0==t.id?this.plaintImage.visible=!0:this.goldImage.visible=!0,0==t.des.length?(this.oneLabel.text=t.name,this.oneLabel.visible=!0):(this.twoLabel1.text=t.name,this.twoLabel1.visible=!0,this.twoLabel2.text=t.des,this.twoLabel2.visible=!0),this.btnLabel.text=t.price.toPrecision(2),this.btn.enabled=!0,7==t.id&&(vo.UserVo.getInstance().getServerTime()<t.lasTime+t.periodTime?(this.btn.enabled=!1,egret.Ticker.getInstance().register(this.onTick,this)):(this.btn.enabled=!0,this.btnLabel.text="CLAIM"))},e.prototype.dispose=function(){t.prototype.dispose.call(this),egret.Ticker.getInstance().unregister(this.onTick,this),this.btn.removeClickListener(this.btnClick,this)},e.prototype.onTick=function(t){this._itemVo.lasTime+=t,vo.UserVo.getInstance().getServerTime()>this._itemVo.lasTime+this._itemVo.periodTime&&(this.btn.enabled=!0,this.btnLabel.text="CLAIM",egret.Ticker.getInstance().unregister(this.onTick,this))},e.prototype.btnClick=function(){},e}(fairygui.GComponent);t.StoreItemUI=i,__reflect(i.prototype,"ui.StoreItemUI")}(ui||(ui={}));var util;!function(t){var e=function(){function t(){}return t.formatGameTimeMSM=function(t){var e=new Date(t),i=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),n=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),o=Math.floor(e.getMilliseconds()/10),s=10>o?"0"+o:o;
return i+":"+n+":"+s},t.formatGameTimeHMS=function(t){var e=new Date(t),i=e.getHours()<10?"0"+e.getHours():e.getMinutes(),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return i+":"+n+":"+o},t}();t.Comm=e,__reflect(e.prototype,"util.Comm")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t}();e.SUCCESS=0,e.FAIL=300,e.NOT_LOGIN=301,e.PARM_ERROR=302,e.USER_UUID_EXIST=401,e.USER_UUID_EMPTY=402,e.USER_LOGIN_ERROR=403,e.USER_UNLOGIN=405,e.DEKARON_NOT_EXIST=501,e.PASS_NOT_EXIST=502,e.PASS_RECORED_NOT_EXIST=503,e.RANK_NOT_IN=505,t.Enum=e,__reflect(e.prototype,"util.Enum")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.getUserInfo=function(t){var e={uuid:vo.UserVo.getInstance().deviceID,token:vo.UserVo.getInstance().token},i=new http.Http;i.getRequestByObj(vo.ConfigVo.HttpURL+"user/login",e,function(t){var e=http.Http.parseServerData(t);null!=e&&(vo.UserVo.getInstance().token=e.token)})},t.saveGameScore=function(t){var e=new vo.http.SaveGameScoreVo;e.token=vo.UserVo.getInstance().token,e.time=vo.UserVo.getInstance().gameVo.time,e.level=vo.UserVo.getInstance().gameVo.level,e.step=vo.UserVo.getInstance().gameVo.step,e.num_sum=vo.UserVo.getInstance().gameVo.gridVo.numSum,e.isContest=vo.UserVo.getInstance().gameVo.isContest,e.pass=t;var i=new http.Http;i.getRequestByObj(vo.ConfigVo.HttpURL,e)},t.getRanking=function(t,e){var i=new http.Http;i.getRequestByObj(vo.ConfigVo.HttpURL,t,function(i){var n=new ranking.HttpGetRankingReturnVo;n.page=t.page,n.total_page=2;for(var o=0;12>o;o++){var s=new ranking.RankingItemVo;s.index=o+1+(t.page-1)*t.page_size,s.name="item"+s.index,s.score=s.index,n.list.push(s)}e(n)})},t.getStore=function(t){var e=new http.Http,i=new vo.http.HttpBaseVo;e.getRequestByObj(vo.ConfigVo.HttpURL,i,function(e){var i=new vo.http.GetStoreReturnVo;t(i)})},t}();t.HttpLogic=e,__reflect(e.prototype,"util.HttpLogic")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.load=function(t,e,i){void 0===i&&(i=!0),ui.LoadingUI.getInstance().show(),this._completeCallBack=e,this._autoClose=i,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup(t)},t.prototype.onResourceLoadComplete=function(t){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),this._autoClose&&ui.LoadingUI.getInstance().hide(),this._completeCallBack()},t}();t.ResLoad=e,__reflect(e.prototype,"util.ResLoad")}(util||(util={}));var vo;!function(t){var e=function(){function t(){}return t}();e.HttpURL="http://api2017xg.72-web.com/",e.desKey="d*&+d1k4",t.ConfigVo=e,__reflect(e.prototype,"vo.ConfigVo")}(vo||(vo={}));var vo;!function(t){var e=function(){function e(){this.highestScore=0,this.score=0,this.level=0,this.time=0,this.step=0,this.baseScore=0,this.isContest=!1}return e.prototype.initLevel=function(e,i){void 0===i&&(i=!1),this.level=e,this.isContest=i;var n;n=i?gameConfig.GameConfig.getInstance().getContest(e):gameConfig.GameConfig.getInstance().getLevelByID(e),this.baseScore=n.base_score,this.gridVo=t.GridVo.createByConfig(n)},e.prototype.updateHighestScore=function(){this.score>this.highestScore&&(this.highestScore=this.score)},e}();t.GameVo=e,__reflect(e.prototype,"vo.GameVo")}(vo||(vo={}));var vo;!function(t){var e=function(){function t(t,e,i,n,o){if(void 0===o&&(o=null),this.gridList=Array(),this.xCount=0,this.yCount=0,this.maxNum=0,this.maxNumCount=0,this.numSum=0,this.xCount=t,this.yCount=e,this.maxNum=i,this.maxNumCount=n,0>=t||0>=e||0>=i||0>=n)throw new Error("参数错误");if(null!=o&&o.length>0)this.gridList=o;else{for(var s=0;e>s;s++)for(var r=0;t>r;r++)this.gridList.push(0);for(var a=0,h=0,c=void 0;n>h&&(a++,!(a>1e4));){c=[];var g=Math.floor(Math.random()*t),l=Math.floor(Math.random()*e),u=this.getIndex(g,l);c.push(u);var d=Math.floor(4*Math.random());0==d&&(u=this.getIndex(g,l-1),c.push(u)),1==d&&(u=this.getIndex(g,l+1),c.push(u)),2==d&&(u=this.getIndex(g-1,l),c.push(u)),3==d&&(u=this.getIndex(g+1,l),c.push(u));for(var p=0;p<c.length;p++)u=c[p],this.gridList[u]++,this.gridList[u]==i&&h++}}this.trimGrid(),this.calNumSum()}return t.createByConfig=function(e){var i=e.fixed,n=e.x_count,o=e.y_count,s=e.max_num,r=e.max_num_count,a=e.grid_list;if(0>=n||n>9||0>=o||o>9||0>=s||s>9||0>=r||r>9||1==i&&0==a.length)return egret.log("格子配置错误:"+JSON.stringify(e)),null;var h=new t(n,o,s,r,a);return h},t.prototype.getIndex=function(t,e){return e*this.xCount+t},t.prototype.trimGrid=function(){for(var t=0;t<this.yCount;t++){for(var e=!1,i=0;i<this.xCount;i++){var n=this.getIndex(i,t);if(this.gridList[n]>0){e=!0;break}}if(e)break;for(var i=0;i<this.xCount;i++){var n=this.getIndex(0,t);this.gridList.splice(n,1)}t--,this.yCount--}for(var t=this.yCount-1;t>=0;t--){for(var e=!1,i=0;i<this.xCount;i++){var n=this.getIndex(i,t);if(this.gridList[n]>0){e=!0;break}}if(e)break;for(var i=0;i<this.xCount;i++){var n=this.getIndex(0,t);this.gridList.splice(n,1)}this.yCount--}for(var i=0;i<this.xCount;i++){for(var e=!1,t=0;t<this.yCount;t++){var n=this.getIndex(i,t);if(this.gridList[n]>0){e=!0;break}}if(e)break;for(var t=0;t<this.yCount;t++){var n=this.getIndex(0,t);this.gridList.splice(n,1)}i--,this.xCount--}for(var i=this.xCount-1;i>=0;i--){for(var e=!1,t=0;t<this.yCount;t++){var n=this.getIndex(i,t);if(this.gridList[n]>0){e=!0;break}}if(e)break;for(var t=0;t<this.yCount;t++){var n=this.getIndex(this.xCount-1,t);this.gridList.splice(n,1)}this.xCount--}for(var o=[],s=0;s<this.gridList.length;s++)isNaN(this.gridList[s])||o.push(this.gridList[s]);this.gridList=o},t.prototype.calNumSum=function(){this.numSum=0;for(var t=0;t<this.yCount;t++)for(var e=0;e<this.xCount;e++){var i=this.getIndex(e,t);this.gridList[i]>0&&(this.numSum+=this.gridList[i])}},t.prototype.getSubIndexList=function(t,e){var i=[],n=0;return n=this.getIndex(t,e),i.push(n),e-1>=0&&(n=this.getIndex(t,e-1),i.push(n)),e+1<this.yCount&&(n=this.getIndex(t,e+1),i.push(n)),t-1>=0&&(n=this.getIndex(t-1,e),i.push(n)),t+1<this.xCount&&(n=this.getIndex(t+1,e),i.push(n)),i},t.prototype.gameIsOver=function(){for(var t=0,e=0;e<this.yCount;e++)for(var i=0;i<this.xCount;i++)if(t=this.getIndex(i,e),this.gridList[t]>0){if(e-1>=0&&(t=this.getIndex(i,e-1),this.gridList[t]>0))break;if(e+1<this.yCount&&(t=this.getIndex(i,e+1),this.gridList[t]>0))break;if(i-1>=0&&(t=this.getIndex(i-1,e),this.gridList[t]>0))break;if(i+1<this.xCount&&(t=this.getIndex(i+1,e),this.gridList[t]>0))break;return!0}return!1},t.prototype.gameIsComplete=function(){for(var t=0,e=0;e<this.yCount;e++)for(var i=0;i<this.xCount;i++)if(t=this.getIndex(i,e),this.gridList[t]>0)return!1;return!0},t.prototype.toJson=function(){var t={x_count:this.xCount,y_count:this.yCount,max_num:this.maxNum,max_num_count:this.maxNumCount,num_sum:this.numSum,grid_list:this.gridList};return JSON.stringify(t)},t}();t.GridVo=e,__reflect(e.prototype,"vo.GridVo")}(vo||(vo={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?n(o):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var vo;!function(t){var e=function(){function t(){this.currentPage=0,this.totalPage=0,this.pageSize=0}return t.prototype.hasNext=function(){return this.currentPage>=this.totalPage?!1:!0},t.prototype.hasUp=function(){return this.currentPage<=1?!1:!0},t}();t.PageVo=e,__reflect(e.prototype,"vo.PageVo")}(vo||(vo={}));var vo;!function(t){var e=function(){function t(){this.musicVolum=1,this.soundVolum=1}return t.getInstance=function(){var e=egret.localStorage.getItem("setting");if(null==e||0==e.length)return new t;var i=JSON.parse(e),n=new t;return n.username=i.username,n.musicVolum=i.musicVolum,n.soundVolum=i.soundVolum,n},t.prototype.save=function(){var t=JSON.stringify(this);egret.localStorage.setItem("setting",t)},t}();t.SettingVo=e,__reflect(e.prototype,"vo.SettingVo")}(vo||(vo={}));var vo;!function(t){var e=function(){function t(){this.id=0,this.name="",this.des="",this.price=0,this.lasTime=0,this.periodTime=21600}return t}();t.StoreItemVo=e,__reflect(e.prototype,"vo.StoreItemVo")}(vo||(vo={}));var vo;!function(t){var e=function(){function e(){this.deviceID="hansenlibin",this.token="",this.userName="",this.gold=1e3,this.gameVo=new t.GameVo,this.serverTime=0,this.updateServerLocalTime=0,this.checkInVo=new checkin.CheckInVo,this.reliveCount=0}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.getServerTime=function(){return this.serverTime+Math.floor(egret.getTimer()/1e3)-this.updateServerLocalTime},e.prototype.setServerTime=function(t){this.serverTime=t,this.updateServerLocalTime=Math.floor(egret.getTimer()/1e3)},e}();t.UserVo=e,__reflect(e.prototype,"vo.UserVo")}(vo||(vo={}));